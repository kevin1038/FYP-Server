<!DOCTYPE html>
<html>
<head>
	<title>Report System</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="css/bootstrap.css">
</head>
<body>
	<% include partials/header %>
	
	<div class="container" style="margin-top:100px">
		<h3><%= records[0].username %>'s Report</h3>
		<canvas class="my-4" id="myChart" width="900" height="380"></canvas>
	</div>
	
	<script src="js/bootstrap.js"></script>
	<script src="js/chart.js"></script>
	<script src="js/moment.js"></script>
	<script>
		var ctx = document.getElementById("myChart");
		var config = {
			type: 'line',
			data: {
				labels: [],
				datasets: [{
					data: [],
					lineTension: 0,
					backgroundColor: 'transparent',
					borderColor: '#007bff',
					borderWidth: 4,
					pointBackgroundColor: '#007bff'
				}]
			},
			options: {
				scales: {
					yAxes: [{
						ticks: {
							beginAtZero: false
						}
					}]
				},
				legend: {
					display: false,
				}
			}
		};
		var records = <%- JSON.stringify(records) %>;
		for (var i in records) {
			config.data.labels.push(moment(records[i].Score.date).format('ll'));
			config.data.datasets[0].data.push(records[i].Score.level1);
		}
		var myChart = new Chart(ctx, config);
	</script>
</body>
</html>